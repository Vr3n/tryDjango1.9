<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bootstrap CDN -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">

    <!-- Font Awesome CDN -->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- Local CSS -->
    {% load staticfiles %}
    <link rel="stylesheet" href=" {% static "css/base.css" %} ">

    <title>
        {% if  title  %}
            Blog - {{ title }}
        {% else %} 
            Blog
        {% endif %}
    </title>
</head>
<body>
    <!-- Facebook Comments Plugin SDK -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v5.0"></script>

    <!-- Facebook Like and Share btn Plugin -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v5.0"></script>

    <!-- Pinterest Social handle -->
    <script async defer src="https://assets.pinterest.com/js/pinit.js"></script>

    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="{% url 'posts:home' %}" class="btn btn-success navbar-btn">Home</a>
                <a href="{% url 'posts:post-create' %}" class="btn btn-primary navbar-btn">Create Post</a>
            </div>
        </div>
    </nav>
    {% include "messages_display.html" %}

    <div class="container">
        {% block bodyBlock %}
        {% endblock bodyBlock %}
    {% block head_extra %}{% endblock %}
    </div>



<!-- JQuery CDN -->
<script
  src="https://code.jquery.com/jquery-1.12.2.min.js"
  integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk="
  crossorigin="anonymous"></script>

<!-- Boostrap JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Markdown JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.7.0/marked.min.js"></script>

<!-- Local JS -->
{% load static %}
<script type='text/javascript'>


// For image responsiveness.
$(document).ready(function() {
  $(".post-detail-item img").each(function() {
    $(this).addClass("img-responsive");
  });

    // For Post Preview.
    var titleItem = $('#id_title')
    $("#preview-title").text(marked(titleItem.val()))

    function setTitle(value) {
        $('#preview-title').text(value);
    }

    setTitle(titleItem.val())

    titleInput.keyup(function() {
        var newContent = $(this).val()
        setTitle(newContent)
    })


    var contentInput = $('#id_content');
    $("#preview-content").html(contentInput);

    function setContent(value) {
        var markedContent = marked(value);
        $("#preview-content").html(markedContent);
        $('#preview-content img').each(function() {
            $(this).addClass('img-responsive');
        });
    };
    setContent(contentInput.val())

    contentInput.keyup(function() {
        var newContent = $(this).val()
        setContent(newContent)
    })

    

});



</script>

</body>
</html>